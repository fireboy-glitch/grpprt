<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nepal Odyssey - Premium Trekking Packages across the Himalayas.">
    <title>Nepal Odyssey | Elite Himalayan Expeditions</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Poppins:wght@300;400;500;600;700;800;900&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* * 1.0 RESET & VARIABLES 
         * -------------------------------------------------------------------
         */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        :root {
            /* --- Color Palette: 'Himalayan Dusk' Theme --- */
            --primary-hue: 215;
            --primary-color: hsl(var(--primary-hue), 100%, 35%);     /* Deep Royal Blue */
            --primary-light: hsl(var(--primary-hue), 100%, 45%);
            --primary-dark: hsl(var(--primary-hue), 100%, 25%);
            
            --accent-hue: 45;
            --accent-color: hsl(var(--accent-hue), 100%, 50%);       /* Golden Summit */
            --accent-hover: hsl(var(--accent-hue), 100%, 45%);
            
            --success-color: #00b894;
            --danger-color: #d63031;
            --warning-color: #fdcb6e;
            --info-color: #0984e3;

            /* --- Neutrals --- */
            --text-main: #2d3436;
            --text-muted: #636e72;
            --text-light: #b2bec3;
            --bg-body: #f5f6fa;
            --bg-card: #ffffff;
            --bg-glass: rgba(255, 255, 255, 0.95);

            /* --- Typography --- */
            --font-display: 'Playfair Display', serif;
            --font-heading: 'Poppins', sans-serif;
            --font-body: 'Roboto', sans-serif;

            /* --- Spacing System --- */
            --spacing-xs: 0.25rem;
            --spacing-sm: 0.5rem;
            --spacing-md: 1rem;
            --spacing-lg: 2rem;
            --spacing-xl: 4rem;

            /* --- Component Properties --- */
            --radius-sm: 8px;
            --radius-md: 16px;
            --radius-lg: 24px;
            --radius-full: 999px;

            /* --- Elevation (Shadows) --- */
            --shadow-xs: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-sm: 0 4px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 8px 16px rgba(0,0,0,0.1);
            --shadow-lg: 0 16px 32px rgba(0,0,0,0.15);
            --shadow-xl: 0 24px 48px rgba(0,0,0,0.2);
            --shadow-inner: inset 0 2px 4px rgba(0,0,0,0.05);

            /* --- Animations --- */
            --ease-out-back: cubic-bezier(0.34, 1.56, 0.64, 1);
            --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
            --duration-fast: 250ms;
            --duration-normal: 400ms;
            --duration-slow: 700ms;
        }

        /* * 2.0 GLOBAL TYPOGRAPHY & LAYOUT
         * -------------------------------------------------------------------
         */
        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            overflow-x: hidden;
            background-image: radial-gradient(circle at 10% 20%, rgba(216, 241, 230, 0.46) 0%, rgba(233, 226, 226, 0.28) 90.1%);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            color: var(--text-main);
            line-height: 1.2;
            margin-bottom: var(--spacing-sm);
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--spacing-lg);
        }

        /* * 3.0 NAVIGATION BAR 
         * -------------------------------------------------------------------
         */
        .navbar {
            position: sticky;
            top: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
            padding: var(--spacing-md) 0;
            transition: all var(--duration-normal) ease;
        }

        .navbar.scrolled {
            padding: var(--spacing-sm) 0;
            background: rgba(255, 255, 255, 0.98);
            box-shadow: var(--shadow-sm);
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            text-decoration: none;
            color: var(--primary-color);
        }

        .brand-icon {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .brand-text {
            font-family: var(--font-display);
            font-size: 1.8rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            color: var(--primary-dark);
        }

        .nav-actions {
            display: flex;
            gap: var(--spacing-md);
        }

        .btn-icon-circle {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 1px solid rgba(0,0,0,0.1);
            background: white;
            color: var(--text-main);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all var(--duration-fast);
            position: relative;
        }

        .btn-icon-circle:hover {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            transform: translateY(-2px);
        }

        .badge-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger-color);
            color: white;
            font-size: 0.7rem;
            font-weight: 700;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid white;
        }

        /* * 4.0 HERO SECTION 
         * -------------------------------------------------------------------
         */
        .hero {
            position: relative;
            padding: 6rem 0 4rem;
            text-align: center;
            overflow: hidden;
            margin-bottom: var(--spacing-xl);
            background: linear-gradient(180deg, rgba(245,246,250,0) 0%, rgba(245,246,250,1) 100%);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            left: 50%;
            transform: translateX(-50%);
            width: 120%;
            height: 100%;
            background: radial-gradient(circle, rgba(0,119,182,0.05) 0%, rgba(255,255,255,0) 70%);
            z-index: -1;
        }

        .hero-badge {
            display: inline-block;
            padding: var(--spacing-xs) var(--spacing-md);
            background: rgba(0,119,182,0.1);
            color: var(--primary-color);
            border-radius: var(--radius-full);
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: var(--spacing-md);
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .hero-title {
            font-size: 4.5rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: var(--spacing-md);
            background: linear-gradient(135deg, var(--text-main) 30%, var(--primary-color) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero-subtitle {
            font-size: 1.4rem;
            color: var(--text-muted);
            max-width: 700px;
            margin: 0 auto;
            font-weight: 300;
        }

        /* * 5.0 FILTER SYSTEM 
         * -------------------------------------------------------------------
         */
        .filter-wrapper {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
            position: sticky;
            top: 90px; /* Below navbar */
            z-index: 900;
            padding: 1rem 0;
            /* Create a subtle fade mask for scrolling */
            background: linear-gradient(180deg, var(--bg-body) 0%, var(--bg-body) 85%, rgba(245,246,250,0) 100%);
        }

        .filter-btn {
            padding: 0.8rem 1.8rem;
            border: 1px solid rgba(0,0,0,0.08);
            background: var(--bg-card);
            color: var(--text-muted);
            border-radius: var(--radius-full);
            font-weight: 600;
            font-family: var(--font-heading);
            cursor: pointer;
            transition: all var(--duration-fast) var(--ease-smooth);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: var(--shadow-sm);
        }

        .filter-btn i {
            font-size: 1.1em;
            transition: transform var(--duration-fast);
        }

        .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
            color: var(--primary-color);
            border-color: var(--primary-light);
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
            box-shadow: 0 8px 20px rgba(0, 77, 122, 0.3);
        }

        .filter-btn.active i {
            animation: bounce 1s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }

        /* * 6.0 CARD GRID SYSTEM (THE CORE FIX)
         * -------------------------------------------------------------------
         * Key Changes: 
         * - align-items: flex-start (Fixes "all rows grow" issue)
         * - min-height structure
         */
        .packages-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
            gap: 3rem;
            padding-bottom: 6rem;
            /* CRITICAL FIX: Prevents row height stretching */
            align-items: flex-start; 
        }

        .trek-card {
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow-sm);
            transition: 
                transform var(--duration-normal) var(--ease-smooth),
                box-shadow var(--duration-normal) var(--ease-smooth);
            
            /* Define a base height logic */
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(0,0,0,0.03);
            /* Initial max-height handles the non-hover state */
            height: auto;
        }

        /* Hover Elevation */
        .trek-card:hover {
            transform: translateY(-12px);
            box-shadow: var(--shadow-xl);
            z-index: 10; /* Bring to front visually */
        }

        /* Image Wrapper */
        .card-visual {
            position: relative;
            height: 260px;
            overflow: hidden;
        }

        .card-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s var(--ease-out-back);
        }

        .trek-card:hover .card-img {
            transform: scale(1.15);
        }

        /* Floating Badges */
        .badge-group {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            align-items: flex-end;
            z-index: 2;
        }

        .badge {
            padding: 6px 14px;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: var(--shadow-sm);
            backdrop-filter: blur(4px);
        }

        .badge.featured { background: var(--accent-color); color: #fff; }
        .badge.difficulty { background: rgba(0,0,0,0.7); color: #fff; }
        .badge.deal { background: var(--danger-color); color: #fff; }

        /* Content Body - The "Expanding" Part */
        .card-body {
            padding: 1.5rem 1.5rem 0; /* No bottom padding here, handled by footer spacer */
            position: relative;
            background: var(--bg-card);
        }

        .card-meta-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.8rem;
            font-size: 0.9rem;
            color: var(--primary-light);
            font-weight: 600;
        }

        .card-title {
            font-size: 1.6rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text-main);
            transition: color var(--duration-fast);
        }

        .trek-card:hover .card-title {
            color: var(--primary-color);
        }

        /* The Description: Transitions from clamped to full */
        .card-desc {
            color: var(--text-muted);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            
            /* Initial State: Clamped */
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            
            /* Height Transition Logic */
            max-height: 4.8em; /* Roughly 3 lines */
            opacity: 0.8;
            transition: max-height 0.6s var(--ease-smooth), opacity 0.4s;
        }

        /* Hover State: Unclamped */
        .trek-card:hover .card-desc {
            -webkit-line-clamp: unset;
            max-height: 500px; /* Arbitrary large number for expansion */
            opacity: 1;
        }

        /* Grid stats row */
        .card-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
            padding: 1rem 0;
            border-top: 1px dashed rgba(0,0,0,0.1);
            border-bottom: 1px dashed rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }

        .stat-icon {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--text-light);
            text-transform: uppercase;
            font-weight: 600;
        }

        .stat-value {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--text-main);
        }

        /* * 7.0 CARD FOOTER (STICKY FIX)
         * -------------------------------------------------------------------
         * This footer stays at the bottom of the card content.
         * The button slides up OVER the price on hover.
         */
        .card-footer {
            padding: 1.5rem;
            margin-top: auto; /* Push to bottom */
            position: relative;
            height: 80px; /* Fixed height container */
            overflow: hidden;
        }

        /* Price Wrapper */
        .price-wrapper {
            position: absolute;
            top: 50%;
            left: 1.5rem;
            transform: translateY(-50%);
            transition: all 0.4s var(--ease-smooth);
            width: calc(100% - 3rem);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price-label { font-size: 0.8rem; color: var(--text-muted); }
        .price-val { font-size: 1.8rem; font-weight: 800; color: var(--primary-dark); }
        .price-unit { font-size: 1rem; color: var(--text-muted); font-weight: 400; }

        .rating-mini { color: var(--accent-color); font-size: 0.9rem; }

        /* Action Buttons Wrapper - Hidden initially */
        .action-wrapper {
            position: absolute;
            bottom: -100%; /* Hidden below */
            left: 0;
            width: 100%;
            height: 100%;
            padding: 0 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            background: var(--bg-card);
            transition: bottom 0.4s var(--ease-out-back);
        }

        /* Hover Interaction */
        .trek-card:hover .price-wrapper {
            transform: translateY(-150%); /* Move up out of view */
            opacity: 0;
        }

        .trek-card:hover .action-wrapper {
            bottom: 0; /* Slide in */
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: var(--radius-sm);
            font-weight: 600;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            cursor: pointer;
            transition: all var(--duration-fast);
            border: none;
            font-family: var(--font-heading);
            font-size: 0.95rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            flex: 2;
            box-shadow: 0 4px 12px rgba(9, 132, 227, 0.3);
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(9, 132, 227, 0.4);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid rgba(0,0,0,0.1);
            color: var(--text-main);
            flex: 1;
        }

        .btn-outline:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
            background: rgba(9, 132, 227, 0.05);
        }

        /* * 8.0 EXPANDED MODAL (FULL FEATURE SET)
         * -------------------------------------------------------------------
         */
        .modal-overlay {
            position: fixed;
            inset: 0;
            z-index: 2000;
            display: none; /* Toggled by JS */
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .modal-backdrop {
            position: absolute;
            inset: 0;
            background-color: rgba(26, 26, 46, 0.95);
            /* Blur backdrop image set by JS */
            background-size: cover;
            background-position: center;
            filter: blur(20px) brightness(0.4);
            transform: scale(1.1); /* Prevent blurred edges */
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal-container {
            position: relative;
            width: 95%;
            max-width: 1200px;
            height: 90vh;
            background: var(--bg-card);
            border-radius: var(--radius-lg);
            overflow: hidden;
            display: grid;
            grid-template-columns: 350px 1fr; /* Sidebar | Content */
            box-shadow: var(--shadow-xl);
            transform: scale(0.95) translateY(30px);
            opacity: 0;
            transition: all 0.5s var(--ease-out-back);
        }

        .modal-overlay.active .modal-container {
            transform: scale(1) translateY(0);
            opacity: 1;
        }

        /* Modal Close Button */
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            width: 40px;
            height: 40px;
            background: rgba(0,0,0,0.1);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--text-main);
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: var(--danger-color);
            color: white;
            transform: rotate(90deg);
        }

        /* Modal Sidebar (Left) */
        .modal-sidebar {
            background: #f8f9fa;
            border-right: 1px solid rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .modal-gallery-hero {
            height: 250px;
            background-size: cover;
            background-position: center;
            position: relative;
        }
        
        .modal-price-card {
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            background: white;
        }

        .modal-price-card .big-price {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-color);
            display: block;
        }

        .modal-info-meta {
            padding: 1rem 2rem;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .modal-info-meta span {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.95rem;
            color: var(--text-main);
        }

        .modal-info-meta span i {
            color: var(--primary-color);
            width: 20px; /* fixed width for alignment */
            text-align: center;
        }

        /* Booking Form */
        .booking-form-wrapper {
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-muted);
            margin-bottom: 0.3rem;
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid rgba(0,0,0,0.1);
            border-radius: var(--radius-sm);
            font-size: 1rem;
            transition: border-color var(--duration-fast), box-shadow var(--duration-fast);
        }

        .form-group input:focus, .form-group select:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 119, 182, 0.2);
            outline: none;
        }

        .form-group.grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        /* Modal Content (Right) */
        .modal-content {
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .modal-header {
            padding: 2rem 3rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .modal-header h2 {
            font-size: 2rem;
            font-weight: 800;
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }

        .modal-tabs {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .tab-btn {
            padding: 1rem 0;
            background: none;
            border: none;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-muted);
            cursor: pointer;
            position: relative;
        }

        .tab-btn.active {
            color: var(--primary-color);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--primary-color);
            border-radius: 3px 3px 0 0;
        }

        .modal-body {
            padding: 3rem;
            background: white;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.4s ease;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Itinerary Styling */
        .timeline {
            position: relative;
            padding-left: 2rem;
            border-left: 2px solid #eee;
        }

        .day-item {
            margin-bottom: 2rem;
            position: relative;
        }

        .day-marker {
            position: absolute;
            left: -2.6rem;
            top: 0;
            width: 1.2rem;
            height: 1.2rem;
            background: var(--primary-color);
            border: 4px solid white;
            border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .day-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }

        .day-title {
            font-weight: 700;
            font-size: 1.1rem;
        }

        .day-meta {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }

        .feature-box {
            padding: 1.5rem;
            background: #f8f9fa;
            border-radius: var(--radius-sm);
            display: flex;
            align-items: start;
            gap: 1rem;
        }

        .feature-box i {
            font-size: 1.5rem;
            color: var(--success-color);
        }

        /* Toast Notifications */
        .toast-container {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .toast {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: var(--radius-sm);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 1rem;
            border-left: 4px solid var(--success-color);
            transform: translateX(120%);
            transition: transform 0.4s var(--ease-out-back);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast i {
            color: var(--success-color);
            font-size: 1.2rem;
        }

        .toast-info {
            border-left: 4px solid var(--info-color);
        }

        .toast-info i {
            color: var(--info-color);
        }

        /* Media Queries */
        @media (max-width: 1250px) {
            .container {
                padding: 0 var(--spacing-md);
            }
        }

        @media (max-width: 900px) {
            .hero-title {
                font-size: 3rem;
            }
            .packages-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
                gap: 2rem;
            }
            .modal-container {
                grid-template-columns: 1fr;
                height: 95vh;
                max-width: 600px;
            }
            .modal-sidebar {
                display: none; /* Hide sidebar on small screens for simplicity */
            }
            .modal-header, .modal-body {
                padding: 1.5rem;
            }
            .modal-close {
                background: var(--bg-card);
            }
        }
        
        @media (max-width: 500px) {
            .hero-title {
                font-size: 2.5rem;
            }
            .card-title {
                font-size: 1.4rem;
            }
            .packages-grid {
                grid-template-columns: 1fr;
            }
        }
            .navbar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
}

.logo {
    display: flex;
    align-items: center;
    text-decoration: none;
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--dark-color);
}

.logo i {
    color: var(--primary-color);
    margin-right: 0.5rem;
    font-size: 1.8rem;
}

[data-theme="dark"] .logo {
    color: var(--light-color);
}

.nav-menu {
    display: flex;
    list-style: none;
}

.nav-item {
    position: relative;
    margin: 0 1rem;
}

.nav-link {
    text-decoration: none;
    color: var(--dark-color);
    font-weight: 500;
    padding: 0.5rem 0;
    transition: var(--transition);
    display: flex;
    align-items: center;
}

[data-theme="dark"] .nav-link {
    color: var(--light-color);
}

.nav-link:hover, .nav-link.active {
    color: var(--primary-color);
}

.nav-link i {
    margin-left: 0.3rem;
    font-size: 0.8rem;
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    background: white;
    min-width: 200px;
    box-shadow: var(--box-shadow);
    border-radius: var(--border-radius);
    padding: 0.5rem 0;
    opacity: 0;
    visibility: hidden;
    transform: translateY(10px);
    transition: var(--transition);
    list-style: none;
    z-index: 100;
}

[data-theme="dark"] .dropdown-menu {
    background: var(--dark-color);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.dropdown:hover .dropdown-menu {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.dropdown-menu li a {
    display: block;
    padding: 0.7rem 1.5rem;
    text-decoration: none;
    color: var(--dark-color);
    transition: var(--transition);
}

[data-theme="dark"] .dropdown-menu li a {
    color: var(--light-color);
}

.dropdown-menu li a:hover {
    background: rgba(58, 134, 255, 0.1);
    color: var(--primary-color);
}

    </style>
</head>

<body>

    <nav class="navbar" id="navbar">
        <div class="container nav-content">
            <a href="index.html" class="brand">
                <i class="fas fa-mountain-sun brand-icon"></i>
                <span class="brand-text">Nepal Odyssey</span>
            </a>
            <div class="header-container">
               <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="./index.html" class="nav-link active">Home</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="./packages.html" class="nav-link">Packages<i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="customtrip.html">Custom Trip</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="blog.html" class="nav-link">Blog</a>
                    </li>
                    <li class="nav-item">
                        <a href="gallery.html" class="nav-link">Gallery</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="about.html" class="nav-link">About <i class="fas fa-chevron-down"></i></a>
                        <ul class="dropdown-menu">
                            <li><a href="about.html">About Us</a></li>
                            <li><a href="./guides(1).html">Our Guides</a></li>
                            <li><a href="legal.html">Legal Documents</a></li>
                        </ul>
                    </li>
                    <li class="nav-item">
                        <a href="contact.html" class="nav-link">Contact</a>
                    </li>
                </ul>
            </div></div>
    </nav>

    <header class="hero">
        <div class="container">
            <span class="hero-badge">2025 Season Open</span>
            <h1 class="hero-title">Beyond the Clouds</h1>
            <p class="hero-subtitle">Curated expeditions to the roof of the world. Experience the Himalayas with unmatched luxury, safety, and local expertise.</p>
        </div>
    </header>

    <div class="container">
        <div class="filter-wrapper">
            <button class="filter-btn active" data-filter="all">
                <i class="fas fa-layer-group"></i> All Expeditions
            </button>
            <button class="filter-btn" data-filter="everest">
                <i class="fas fa-mountain"></i> Everest Region
            </button>
            <button class="filter-btn" data-filter="annapurna">
                <i class="fas fa-leaf"></i> Annapurna
            </button>
            <button class="filter-btn" data-filter="langtang">
                <i class="fas fa-cloud"></i> Langtang
            </button>
            <button class="filter-btn" data-filter="short">
                <i class="fas fa-stopwatch"></i> Short Treks
            </button>
            <button class="filter-btn" data-filter="luxury">
                <i class="fas fa-gem"></i> Luxury
            </button>
        </div>

        <h2 style="margin-bottom: 2rem; font-weight: 800; font-size: 2rem;">Featured Packages</h2>
        <div class="packages-grid" id="packagesGrid">
            <div class="loading-state" style="grid-column: 1/-1; text-align: center; padding: 4rem;">
                <i class="fas fa-spinner fa-spin fa-2x" style="color: var(--primary-color);"></i>
                <p style="margin-top: 1rem;">Loading Expeditions...</p>
            </div>
        </div>
    </div>


    <div class="modal-overlay" id="trekModal">
        <div class="modal-backdrop" id="modalBackdrop"></div>
        <div class="modal-container">
            <button class="modal-close" onclick="closeModal()">
                <i class="fas fa-times"></i>
            </button>

            <aside class="modal-sidebar">
                <div class="modal-gallery-hero" id="modalHeroImg">
                </div>

                <div class="modal-price-card">
                    <span style="color: var(--text-muted); font-size: 0.9rem;">Starting from</span>
                    <span class="big-price" id="modalPrice">$0</span>
                    <div style="margin-top: 0.5rem; display: flex; justify-content: center; gap: 5px;">
                        <i class="fas fa-star" style="color: var(--warning-color);"></i>
                        <i class="fas fa-star" style="color: var(--warning-color);"></i>
                        <i class="fas fa-star" style="color: var(--warning-color);"></i>
                        <i class="fas fa-star" style="color: var(--warning-color);"></i>
                        <i class="far fa-star" style="color: var(--warning-color);"></i>
                    </div>
                    <p style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.2rem;">4.2/5 based on 12 reviews</p>
                </div>

                <div class="modal-info-meta">
                    <span><i class="fas fa-tag"></i> <span id="modalBadge">Bestseller</span> Trek</span>
                    <span><i class="fas fa-hiking"></i> Difficulty: <span id="modalDifficulty">Hard</span></span>
                    <span><i class="fas fa-map-marker-alt"></i> <span id="modalLocation">Location</span></span>
                    <span><i class="fas fa-mountain"></i> Max Alt: <span id="modalAlt">0m</span></span>
                </div>

                <div class="booking-form-wrapper">
                    <h4 style="margin-bottom: 1.5rem;">Secure Your Spot</h4>
                    <form id="bookingForm" onsubmit="handleBooking(event)">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" name="fullName" placeholder="Your Name" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" placeholder="Your Email" required>
                        </div>
                        <div class="form-group grid">
                            <div>
                                <label for="date">Start Date</label>
                                <input type="date" id="date" name="date" required>
                            </div>
                            <div>
                                <label for="participants">Participants</label>
                                <select id="participants" name="participants" required>
                                    <option value="1">1 Person</option>
                                    <option value="2">2 People</option>
                                    <option value="3">3 People</option>
                                    <option value="4+">4+ People</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem; font-size: 1.1rem; padding: 1rem;">
                            Book Now & Proceed to Payment
                        </button>
                    </form>
                </div>

            </aside>

            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="modalTitle">Trek Title</h2>
                    <div class="modal-tabs">
                        <button class="tab-btn active" onclick="switchTab('overview')">Overview</button>
                        <button class="tab-btn" onclick="switchTab('itinerary')">Itinerary</button>
                        <button class="tab-btn" onclick="switchTab('gear')">Gear List</button>
                        <button class="tab-btn" onclick="switchTab('reviews')">Reviews</button>
                    </div>
                </div>
                <div class="modal-body">
                    
                    <div id="tab-overview" class="tab-content active">
                        <p id="modalDesc" style="font-size: 1.1rem; color: var(--text-main); margin-bottom: 2rem; white-space: pre-line;">
                            Description goes here.
                        </p>

                        <h3 style="margin-bottom: 1.5rem;">Expedition Highlights</h3>
                        <div class="features-grid" id="modalHighlights">
                            </div>

                        <div style="margin-top: 3rem; padding: 2rem; background: #e3f2fd; border-radius: var(--radius-md); border: 1px dashed var(--primary-color);">
                            <h4 style="color: var(--primary-dark);"><i class="fas fa-info-circle"></i> Important Note</h4>
                            <p style="font-size: 0.9rem; margin-bottom: 0;">Flights to Lukla are weather dependent. We recommend adding 1-2 buffer days at the end of your trip.</p>
                        </div>
                    </div>

                    <div id="tab-itinerary" class="tab-content">
                        <h3 style="margin-bottom: 2rem;">Day-by-Day Journey</h3>
                        <div class="timeline" id="modalItinerary">
                            </div>
                    </div>

                    <div id="tab-gear" class="tab-content">
                        <h3>Essential Gear Checklist</h3>
                        <ul style="list-style: none; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <li><i class="fas fa-check text-success"></i> Down Jacket (-20Â°C)</li>
                            <li><i class="fas fa-check text-success"></i> Sleeping Bag</li>
                            <li><i class="fas fa-check text-success"></i> Hiking Boots (Broken in)</li>
                            <li><i class="fas fa-check text-success"></i> Thermal Layers</li>
                            <li><i class="fas fa-check text-success"></i> Water Purification Tabs</li>
                            <li><i class="fas fa-check text-success"></i> Solar Power Bank</li>
                        </ul>
                    </div>

                    <div id="tab-reviews" class="tab-content">
                        <div style="display: flex; gap: 1rem; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 1rem; margin-bottom: 2rem;">
                            <h3 style="margin: 0;">Customer Reviews (12)</h3>
                            <div class="rating-mini" style="font-size: 1.2rem; color: var(--accent-color);">
                                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i>
                            </div>
                        </div>
                        <p style="color: var(--text-muted);">Review content not implemented for this demo.</p>
                    </div>

                </div>
            </div>
        </div>
    </div>
    
    <div class="toast-container" id="toastContainer">
        </div>


    <script>
        // --- 1.0 MOCK DATA SOURCE (Expanded) ---
        const packages = [
            {
                id: 1,
                title: "Everest Base Camp Luxury",
                region: "everest luxury",
                location: "Khumbu Valley",
                duration: "16 Days",
                difficulty: "Hard",
                altitude: "5,545m",
                price: "$2,450",
                image: "./https://images.unsplash.com/photo-1544735716-2f7e3f71f5ff?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80contact",
                badge: "Bestseller",
                stats: { distance: "130km", group: "Max 10", season: "Sep-May" },
                desc: "Stand at the foot of the world's highest peak without compromising on comfort. This premium package includes helicopter return from Gorakshep, staying in the finest lodges available, and extra acclimatization days.",
                highlights: ["Helicopter return to Kathmandu", "Luxury Lodge Accommodation", "Kala Patthar Sunrise", "Tengboche Monastery Private Tour"],
                itinerary: [
                    { day: "Day 1", title: "Arrival in Kathmandu", desc: "VIP transfer to 5-star hotel." },
                    { day: "Day 2", title: "Flight to Lukla", desc: "Thrilling flight and trek to Phakding." },
                    { day: "Day 8", title: "Base Camp", desc: "The big moment. Stand at the foot of Everest." },
                    { day: "Day 9", title: "Heli Back", desc: "Scenic flight back to civilization." }
                ]
            },
            {
                id: 2,
                title: "Annapurna Circuit Complete",
                region: "annapurna",
                location: "Central Nepal",
                duration: "18 Days",
                difficulty: "Moderate",
                altitude: "5,416m",
                price: "$1,250",
                image: "https://images.unsplash.com/photo-1581793745862-99fde7fa73d2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                badge: "Classic",
                stats: { distance: "160km", group: "Max 12", season: "Oct-Apr" },
                desc: "The world's most diverse trek. From subtropical jungles to high alpine deserts, cross the Thorong La Pass and witness the majesty of the Annapurna massif from every angle.",
                highlights: ["Thorong La Pass Crossing", "Muktinath Temple", "Diverse Landscapes", "Apple Pie in Marpha"],
                itinerary: [
                    { day: "Day 1", title: "Drive to Besisahar", desc: "Scenic drive through countryside." },
                    { day: "Day 10", title: "Thorong La Pass", desc: "Cross the highest point at 5416m." }
                ]
            },
            {
                id: 3,
                title: "Langtang Valley Cultural",
                region: "langtang short",
                location: "Langtang National Park",
                duration: "7 Days",
                difficulty: "Easy",
                altitude: "3,800m",
                price: "$850",
                image: "https://images.unsplash.com/photo-1464822759849-e41fc4b53e2e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                badge: "Cultural",
                stats: { distance: "60km", group: "Max 8", season: "All Year" },
                desc: "The valley of glaciers. A shorter, culturally rich trek visiting Tamang heritage villages and Kyanjin Gompa. Perfect for those with limited time who want big mountain views.",
                highlights: ["Kyanjin Gompa Cheese Factory", "Tamang Culture", "Glacier Views", "Red Panda Habitat"],
                itinerary: [
                    { day: "Day 1", title: "Drive to Syabrubesi", desc: "7 hour drive from Kathmandu." },
                    { day: "Day 4", title: "Kyanjin Gompa", desc: "Explore the monastery and glacier." }
                ]
            },
            {
                id: 4,
                title: "Mardi Himal Hidden Gem",
                region: "annapurna short",
                location: "Annapurna Region",
                duration: "5 Days",
                difficulty: "Moderate",
                altitude: "4,500m",
                price: "$600",
                image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                badge: "Trending",
                stats: { distance: "40km", group: "Max 10", season: "Sep-May" },
                desc: "The best kept secret of the Annapurnas. Walk along a ridge line with Machhapuchhre (Fishtail) looming right in front of you. Less crowds, better views.",
                highlights: ["Ridge walking", "Close up of Fishtail", "Short Duration", "Forest Trails"],
                itinerary: [
                    { day: "Day 1", title: "Drive to Kande", desc: "Short drive from Pokhara." },
                    { day: "Day 3", title: "High Camp", desc: "Sunset over the clouds." }
                ]
            },
            {
                id: 5,
                title: "Manaslu Circuit Expedition",
                region: "manaslu",
                location: "Gorkha District",
                duration: "14 Days",
                difficulty: "Hard",
                altitude: "5,160m",
                price: "$1,650",
                image: "https://images.unsplash.com/photo-1545652988-15c7e0921477?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                badge: "Wilderness",
                stats: { distance: "177km", group: "Max 10", season: "Oct-Nov" },
                desc: "The new alternative to Annapurna. A restricted area trek circling the 8th highest mountain. Pure wilderness, Tibetan culture, and the challenging Larkya La pass.",
                highlights: ["Restricted Area", "Larkya La Pass", "Tibetan Border", "Untouched Nature"],
                itinerary: [
                    { day: "Day 1", title: "Drive to Sotikhola", desc: "Off road adventure." },
                    { day: "Day 9", title: "Samagaon", desc: "Acclimatization at Manaslu Base." }
                ]
            },
            {
                id: 6,
                title: "Gokyo Lakes & Ri",
                region: "everest",
                location: "Everest Region",
                duration: "12 Days",
                difficulty: "Hard",
                altitude: "5,357m",
                price: "$1,800",
                image: "https://images.unsplash.com/photo-1589182373726-e4f658ab50f0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",
                badge: "Scenic",
                stats: { distance: "90km", group: "Max 10", season: "Mar-May" },
                desc: "Forget Base Camp. Gokyo offers better views with its pristine turquoise lakes and the summit of Gokyo Ri, offering a 4-peak panoramic view including Everest and Makalu.",
                highlights: ["5 Turquoise Lakes", "Gokyo Ri Viewpoint", "Ngozumpa Glacier", "Less Crowded"],
                itinerary: [
                    { day: "Day 1", title: "Fly to Lukla", desc: "Start the adventure." },
                    { day: "Day 6", title: "Gokyo Lakes", desc: "Arrive at the third lake." }
                ]
            }
        ];

        // --- 2.0 INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderPackages('all');
            setupEventListeners();
            
            // Simulate loading delay for professionalism
            setTimeout(() => {
                document.querySelector('.loading-state').style.display = 'none';
                // Trigger reflow/animation if needed
            }, 500);
            
            // Navbar scroll effect
            window.addEventListener('scroll', () => {
                const nav = document.getElementById('navbar');
                if (window.scrollY > 50) nav.classList.add('scrolled');
                else nav.classList.remove('scrolled');
            });
        });

        // --- 3.0 RENDERING LOGIC ---
        function renderPackages(filter) {
            const grid = document.getElementById('packagesGrid');
            grid.innerHTML = ''; // Clear loading state or previous

            const filtered = filter === 'all' 
                ? packages 
                : packages.filter(p => p.region.includes(filter));

            filtered.forEach((pkg, index) => {
                const card = document.createElement('div');
                card.className = 'trek-card';
                // Staggered animation delay
                card.style.animation = `fadeIn 0.5s ease forwards ${index * 0.1}s`;
                
                // HTML Template for Card
                card.innerHTML = `
                    <div class="card-visual">
                        <img src="${pkg.image}" alt="${pkg.title}" class="card-img" loading="lazy">
                        <div class="badge-group">
                            <span class="badge featured">${pkg.badge}</span>
                            <span class="badge difficulty">${pkg.difficulty}</span>
                        </div>
                    </div>
                    
                    <div class="card-body">
                        <div class="card-meta-row">
                            <span><i class="far fa-clock"></i> ${pkg.duration}</span>
                            <span><i class="fas fa-map-marker-alt"></i> ${pkg.location}</span>
                        </div>
                        <h3 class="card-title">${pkg.title}</h3>
                        
                        <div class="card-stats">
                            <div class="stat-item">
                                <i class="fas fa-ruler-horizontal stat-icon"></i>
                                <span class="stat-label">Distance</span>
                                <span class="stat-value">${pkg.stats.distance}</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-users stat-icon"></i>
                                <span class="stat-label">Group Size</span>
                                <span class="stat-value">${pkg.stats.group}</span>
                            </div>
                            <div class="stat-item">
                                <i class="fas fa-cloud-sun stat-icon"></i>
                                <span class="stat-label">Best Season</span>
                                <span class="stat-value">${pkg.stats.season}</span>
                            </div>
                        </div>

                        <p class="card-desc">${pkg.desc}</p>
                    </div>

                    <div class="card-footer">
                        <div class="price-wrapper">
                            <div>
                                <span class="price-label">Per person</span>
                                <div class="price-val">${pkg.price}</div>
                            </div>
                            <div style="text-align: right;">
                                <div class="rating-mini">
                                    <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                                </div>
                                <span class="price-unit">Flight included</span>
                            </div>
                        </div>

                        <div class="action-wrapper">
                            <button class="btn btn-outline" onclick="openModal(${pkg.id})">
                                Details
                            </button>
                            <button class="btn btn-primary" onclick="openModal(${pkg.id})">
                                Book Now
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // --- 4.0 INTERACTION HANDLERS ---
        function setupEventListeners() {
            // Filter Buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    // UI Update
                    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                    e.currentTarget.classList.add('active');
                    
                    // Logic
                    const filter = e.currentTarget.dataset.filter;
                    renderPackages(filter);
                });
            });

            // Close Modal on backdrop click
            document.getElementById('modalBackdrop').addEventListener('click', closeModal);
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeModal();
            });
        }

        // --- 5.0 MODAL LOGIC (THE HEAVY LIFTING) ---
        function openModal(id) {
            const data = packages.find(p => p.id === id);
            if (!data) return;

            // 1. Populate Header Data
            document.getElementById('modalTitle').textContent = data.title;
            document.getElementById('modalPrice').textContent = data.price;
            document.getElementById('modalDesc').textContent = data.desc;
            document.getElementById('modalBadge').textContent = data.badge;
            document.getElementById('modalDifficulty').textContent = data.difficulty;
            document.getElementById('modalLocation').textContent = data.location;
            document.getElementById('modalAlt').textContent = data.altitude;

            // 2. Set Backgrounds
            document.getElementById('modalHeroImg').style.backgroundImage = `url('${data.image}')`;
            document.getElementById('modalBackdrop').style.backgroundImage = `url('${data.image}')`;

            // 3. Populate Highlights
            const hlContainer = document.getElementById('modalHighlights');
            hlContainer.innerHTML = data.highlights.map(h => `
                <div class="feature-box">
                    <i class="fas fa-check-circle"></i>
                    <div><strong>${h}</strong></div>
                </div>
            `).join('');

            // 4. Populate Itinerary
            const itContainer = document.getElementById('modalItinerary');
            const timelineHTML = data.itinerary.map((day, idx) => `
                <div class="day-item">
                    <div class="day-marker"></div>
                    <div class="day-header">
                        <span class="day-title">${day.day}: ${day.title}</span>
                    </div>
                    <p class="day-meta">${day.desc}</p>
                </div>
            `).join('');

            // Add an end marker to the timeline if it's not the last day
            itContainer.innerHTML = timelineHTML;


            // 5. Show Modal
            document.getElementById('trekModal').classList.add('active');
            document.body.style.overflow = 'hidden'; // Prevent background scroll
        }

        function closeModal() {
            document.getElementById('trekModal').classList.remove('active');
            document.body.style.overflow = '';
            // Reset form
            document.getElementById('bookingForm').reset();
            // Reset tabs
            switchTab('overview');
        }

        function switchTab(tabName) {
            // Remove active from all btns and content
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

            // Simple string matching
            const targetContent = document.getElementById(`tab-${tabName}`);
            targetContent.classList.add('active');

            // Highlight button
            Array.from(document.querySelectorAll('.tab-btn')).find(b => b.textContent.toLowerCase().includes(tabName)).classList.add('active');
        }

        // --- 6.0 UTILITIES (TOASTS, BOOKING) ---
        function showToast(message, type = 'success') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = 'toast';
            if (type === 'info') toast.classList.add('toast-info');
            toast.innerHTML = `<i class="fas fa-check-circle"></i> <span>${message}</span>`;
            
            container.appendChild(toast);
            
            // Animation Trigger
            setTimeout(() => toast.classList.add('show'), 10);
            
            // Remove after 3s
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => toast.remove(), 500);
            }, 3000);
        }

        function handleBooking(e) {
            e.preventDefault();
            // Simulate API call
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
            btn.disabled = true;

            setTimeout(() => {
                // **THE REQUIRED CHANGE:** Instead of showing a toast and closing the modal, redirect to the payment page.
                window.location.href = 'payment-gateway.html'; 
                
                // Reset button text just in case the redirect is slow
                btn.innerHTML = originalText;
                btn.disabled = false;

            }, 1500);
        }

        function toggleWishlistPanel() {
            showToast("Wishlist feature coming soon!", "info");
        }
    </script>
</body>
</html>